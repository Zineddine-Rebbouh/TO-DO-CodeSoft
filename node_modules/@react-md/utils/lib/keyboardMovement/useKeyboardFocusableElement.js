"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useKeyboardFocusableElement = void 0;
var react_1 = require("react");
var applyRef_1 = require("../applyRef");
var movementContext_1 = require("./movementContext");
/**
 * @internal
 * @remarks \@since 5.0.0
 */
function useKeyboardFocusableElement(ref) {
    var _a = (0, movementContext_1.useKeyboardFocusContext)(), attach = _a.attach, detach = _a.detach;
    var nodeRef = (0, react_1.useRef)(null);
    return (0, react_1.useCallback)(function (instance) {
        (0, applyRef_1.applyRef)(instance, ref);
        if (instance) {
            attach(instance);
        }
        else if (nodeRef.current) {
            detach(nodeRef.current);
        }
        nodeRef.current = instance;
    }, [attach, detach, ref]);
}
exports.useKeyboardFocusableElement = useKeyboardFocusableElement;
//# sourceMappingURL=useKeyboardFocusableElement.js.map